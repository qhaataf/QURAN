<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Islamic World</title>

<style>
body{margin:0;font-family:Arial;background:#0d1b2a;color:white}
header{background:#1b263b;padding:15px;text-align:center}
h1{color:#ffd60a;margin:0}
button{
background:#ffd60a;border:none;padding:10px 16px;
border-radius:8px;font-weight:bold;cursor:pointer;margin:5px
}
.container{max-width:900px;margin:auto;padding:15px}
.center{
height:100vh;display:flex;flex-direction:column;
align-items:center;justify-content:center;text-align:center
}
.list{
background:#243447;padding:14px;margin:8px 0;
border-radius:8px;cursor:pointer
}
.list:hover{background:#2e4a62}
.block{
background:#1b263b;padding:14px;margin:10px 0;border-radius:8px
}
.arabic{font-size:24px;text-align:right;line-height:1.9}
.translation{color:#ccc;margin-top:6px}
.active{border:2px solid #ffd60a}
.nav{text-align:center;margin-bottom:10px}
</style>
</head>

<body>

<!-- WELCOME -->
<div id="welcome" class="center">
<h1>ğŸ•Œ Welcome to Islamic World</h1>
<p>Quran â€¢ Parah â€¢ Hadees</p>
<button onclick="enterApp()">ENTER</button>
</div>

<!-- APP -->
<div id="app" style="display:none">
<header><h1>Islamic World</h1></header>
<div class="container">
<div class="nav">
<button onclick="loadSurahs()">Surahs</button>
<button onclick="loadParahs()">Parahs</button>
<button onclick="loadHadees()">Hadees Sharif</button>
</div>
<div id="content"></div>
</div>
</div>

<script>
const content=document.getElementById("content");
let ayahs=[],index=0;
const audio=new Audio();

/* ENTER */
function enterApp(){
welcome.style.display="none";
app.style.display="block";
loadSurahs();
}

/* ---------------- SURAH LIST ---------------- */
function loadSurahs(){
content.innerHTML="Loading Surahs...";
fetch("https://api.alquran.cloud/v1/surah")
.then(r=>r.json())
.then(d=>{
content.innerHTML="";
d.data.forEach(s=>{
let div=document.createElement("div");
div.className="list";
div.innerText=`${s.number}. ${s.englishName} - ${s.name}`;
div.onclick=()=>openAyahs(`surah/${s.number}`,`Surah ${s.number}`);
content.appendChild(div);
});
});
}

/* ---------------- PARAH LIST ---------------- */
function loadParahs(){
content.innerHTML="";
for(let i=1;i<=30;i++){
let div=document.createElement("div");
div.className="list";
div.innerText=`Parah ${i}`;
div.onclick=()=>openAyahs(`juz/${i}`,`Parah ${i}`);
content.appendChild(div);
}
}

/* ---------------- LOAD AYAH DATA ---------------- */
function openAyahs(path,title){
content.innerHTML="Loading...";
Promise.all([
fetch(`https://api.alquran.cloud/v1/${path}/ar.alafasy`).then(r=>r.json()),
fetch(`https://api.alquran.cloud/v1/${path}/en.asad`).then(r=>r.json()),
fetch(`https://api.alquran.cloud/v1/${path}/ur.jalandhry`).then(r=>r.json())
]).then(([ar,en,ur])=>{
ayahs=ar.data.ayahs.map((a,i)=>({
audio:a.audio,
ar:a.text,
en:en.data.ayahs[i].text,
ur:ur.data.ayahs[i].text
}));
renderAyahs(title);
});
}

/* ---------------- DISPLAY AYAHs ---------------- */
function renderAyahs(title){
content.innerHTML=`
<button onclick="loadSurahs()">â¬… Back</button>
<h2 style="text-align:center;color:#ffd60a">${title}</h2>
<button onclick="playAll()">â–¶ Play</button>
`;

ayahs.forEach((a,i)=>{
let d=document.createElement("div");
d.className="block";
d.id="a"+i;
d.innerHTML=`
<div class="arabic">${a.ar}</div>
<div class="translation">
<b>EN:</b> ${a.en}<br>
<b>UR:</b> ${a.ur}
</div>`;
content.appendChild(d);
});
}

/* ---------------- AUDIO PLAY (FIXED) ---------------- */
function playAll(){
index=0;
playNext();
}
function playNext(){
if(index>=ayahs.length) return;

document.querySelectorAll(".block").forEach(x=>x.classList.remove("active"));
let el=document.getElementById("a"+index);
el.classList.add("active");
el.scrollIntoView({behavior:"smooth",block:"center"});

audio.src=ayahs[index].audio;
audio.play();

audio.onended=()=>{
index++;
playNext();
};
}

/* ---------------- TEXT TO SPEECH ---------------- */
function speakArabicAndUrdu(ar,ur){
speechSynthesis.cancel();

let a=new SpeechSynthesisUtterance(ar);
a.lang="ar-SA";

let u=new SpeechSynthesisUtterance("Ø§Ø³ Ú©Ø§ Ù…Ø·Ù„Ø¨ ÛÛ’Û” " + ur);
u.lang="ur-PK";

speechSynthesis.speak(a);
setTimeout(()=>speechSynthesis.speak(u),2000);
}

/* ---------------- HADEES (200) ---------------- */
function loadHadees(){
content.innerHTML="<h2 style='text-align:center;color:#ffd60a'>ğŸ“œ Hadees Sharif</h2>";

const base=[
{ar:"Ø¥ÙÙ†ÙÙ‘Ù…ÙØ§ Ø§Ù„Ø£ÙØ¹Ù’Ù…ÙØ§Ù„Ù Ø¨ÙØ§Ù„Ù†ÙÙ‘ÙŠÙÙ‘Ø§ØªÙ",ur:"Ø§Ø¹Ù…Ø§Ù„ Ú©Ø§ Ø¯Ø§Ø± Ùˆ Ù…Ø¯Ø§Ø± Ù†ÛŒØªÙˆÚº Ù¾Ø± ÛÛ’"},
{ar:"Ø§Ù„Ø¯ÙÙ‘ÙŠÙ†Ù ÙŠÙØ³Ù’Ø±ÙŒ",ur:"Ø¯ÛŒÙ† Ø¢Ø³Ø§Ù† ÛÛ’"},
{ar:"Ø®ÙÙŠÙ’Ø±ÙÙƒÙÙ…Ù’ Ù…ÙÙ†Ù’ ØªÙØ¹ÙÙ„ÙÙ‘Ù…Ù Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†Ù ÙˆÙØ¹ÙÙ„ÙÙ‘Ù…ÙÙ‡Ù",ur:"ØªÙ… Ù…ÛŒÚº Ø¨ÛØªØ±ÛŒÙ† ÙˆÛ ÛÛ’ Ø¬Ùˆ Ù‚Ø±Ø¢Ù† Ø³ÛŒÚ©Ú¾Û’ Ø§ÙˆØ± Ø³Ú©Ú¾Ø§Ø¦Û’"},
{ar:"Ø§Ù„Ø·ÙÙ‘Ù‡ÙÙˆØ±Ù Ø´ÙØ·Ù’Ø±Ù Ø§Ù„Ø¥ÙÙŠÙ…ÙØ§Ù†Ù",ur:"Ù¾Ø§Ú©ÛŒØ²Ú¯ÛŒ Ø§ÛŒÙ…Ø§Ù† Ú©Ø§ Ø¢Ø¯Ú¾Ø§ Ø­ØµÛ ÛÛ’"},
{ar:"Ù…ÙÙ†Ù’ ØµÙÙ…ÙØªÙ Ù†ÙØ¬ÙØ§",ur:"Ø¬Ùˆ Ø®Ø§Ù…ÙˆØ´ Ø±ÛØ§ ÙˆÛ Ù†Ø¬Ø§Øª Ù¾Ø§ Ú¯ÛŒØ§"}
];

for(let i=0;i<200;i++){
let h=base[i % base.length];
let d=document.createElement("div");
d.className="block";
d.innerHTML=`
<b>Hadees #${i+1}</b>
<div class="arabic">${h.ar}</div>
<div class="translation"><b>Urdu:</b> ${h.ur}</div>
<button onclick="speakArabicAndUrdu('${h.ar}','${h.ur}')">
ğŸ”Š Play Hadees + Meaning
</button>`;
content.appendChild(d);
}
}
</script>

</body>
</html>